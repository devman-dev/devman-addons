<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="website_wallet_menu" model="website.menu">
        <field name="name">Billetera</field>
        <field name="url">/wallet</field>
        <field name="parent_id" ref="website.main_menu" />
        <field name="sequence" type="int">90</field>
    </record>

    <!-- Billetera -->
    <template id="web_form_template_wallet" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />
            <div class="main-container">

                <input type="hidden" name="csrf_token"
                    t-att-value="request.csrf_token()" />

                <div class="container_div">
                    <div class="subcontainer_div">
                        <div>
                            <p class="available_balance">Saldo Disponible:</p>
                            <h3>$ <t
                                    t-out="('{:,.2f}'.format(available_balance)).replace(',', 'X').replace('.', ',').replace('X', '.')" />
                            </h3>

                        </div>
                        <div
                            data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label" />
                            <a href="/wallet/transfer/accounts">
                                <button type="button" class="btn btn-primary mt-4">
                                    <i class="fa fa-money" aria-hidden="true"></i>
                                    <span style="margin-left: 5px;">Transferir </span>
                                </button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- Transferencia -->
    <template id="web_form_template_transfer" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />

            <div class="container_div">
                <div class="subcontainer_div">
                    <h5 sytle="margin: 5px 12px 0px 15px;
                    font-size: 18px;">
                        Elegí a
                        qué cuenta
                        transferir
                    </h5>
                    <a href="/wallet/transfer/accounts/new_account" class="add-new-account">
                        <button type="submit" class="btn btn-primary btn-new-account">
                            <div>
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </div>
                            <div style="margin-left: 20px;">
                                <p style="margin-bottom: 0; font-size: 20px;">Nueva
                                    Cuenta</p>
                                <p
                                    style="font-size: 14px; color: rgb(195 195 195); margin-bottom: 0;">Con
                                    CBU,CVU o
                                    alias.</p>
                            </div>
                        </button>
                    </a>

                </div>
            </div>
            <div class="container_div">
                <ul class="ul-accounts">
                    <t t-foreach="list_accounts" t-as="account">
                        <a t-att-href="'/wallet/transfer/account/%s' % account['id']">
                            <li class="list-accounts">
                                <h6>
                                    <t t-esc="account['name_account']" />
                                </h6>
                                <p>
                                    <t t-esc="account['alias']" />
                                </p>
                            </li>
                            <hr />
                        </a>
                    </t>
                </ul>
            </div>
        </t>
    </template>


    <!-- Añadir CBU, CVU o alias -->
    <template id="web_form_template_transfer_new_account" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />
            <div class="container_div">
                <form action="/wallet/transfer/accounts/confirm_account"
                    enctype="multipart/form-data" class="o_mark_required"
                    data-mark="*" data-model_name="" data-success-page="">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div>
                        <div
                            data-type="char" data-name="Field">
                            <div>
                                <div>
                                    <p>Ingresá el CBU, CVU o alias</p>
                                    <input id="name" type="text"
                                        class="form-control s_website_form_input" name="name"
                                        placeholder="Ingresá el CBU, CVU o alias"
                                        required="1" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-12 s_website_form_submit mt-3"
                            data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label" />
                            <button type="submit" class="btn btn-primary">Continuar</button>
                        </div>
                    </div>
                </form>
            </div>
        </t>
    </template>

    <!-- Validar cuenta-->
    <template id="web_form_template_transfer_confirm_account" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />
            <div class="container_div">
                <form
                    enctype="multipart/form-data" class="o_mark_required"
                    data-mark="*" data-model_name="" data-success-page="">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div>
                        <div style="margin: 10px 0;">
                             <h6>¿Esta es la cuenta a la que querés transferir?</h6>
                        </div>
                        <hr/>
                        <div class="data-confirm-account">
                             <p><b><t t-out="account['name_account']"/></b></p>
                             <p style="color: rgb(195 195 195);">CUIT: <t t-out="account['cuit']"/></p>
                             <hr/>
                        </div>

                        <div class="form-group col-12 s_website_form_submit confirm-data"
                            data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label" />
                            <a href="/wallet/transfer/accounts/new_account">
                                <button class="btn btn-secondary" type="button">No, volver</button>
                            </a>
                            <a t-att-href="'/wallet/transfer/account/%s' % account['id']">
                                <button type="button" class="btn btn-primary">Sí, continuar</button>
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </t>
    </template>


    <!-- Transferir a cuenta-->
    <template id="transfer_account_template" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />
            <div class="container_div">
                <form>
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div>
                        <div class="transfer-amount-container">
                            <label for="transfer-amount">Monto a transferir</label>
                            <div class="input-wrapper">
                                <span class="currency-symbol">$</span>
                                <input
                                    type="number"
                                    id="transfer-amount"
                                    placeholder="0.00"
                                    min="0"
                                    step="0.01"
                                    required="1"
                                    class="transfer-input"
                                />
                            </div>
                        </div>
                        <div class="form-group col-12 s_website_form_submit"
                            data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label"/>
                            <a t-att-href="'/wallet/transfer/account/revision/%s' % account['id']">
                                <button class="btn btn-primary transfer-btn" type="button">Continuar</button>
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </t>
    </template>

      <!-- Revision de datos -->
    <template id="web_form_template_transfer_account_revision" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />
            <div class="container_div">
                <form action="/wallet/transfer/sended"
                    enctype="multipart/form-data" class="o_mark_required"
                    data-mark="*" data-model_name="" data-success-page="">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div>
                        <div style="margin: 10px 0;">
                             <h6>Revisá si esta todo bien</h6>
                        </div>
                        <hr/>
                        <div class="data-confirm-account">
                             <p>Vas a transferir:</p>
                             <h4>$ <t t-out="amount"/></h4>
                             <hr/>
                        </div>
                        <div class="data-confirm-account">
                            <p>Para:</p>
                             <h6><t t-out="account['name_account']"/></h6>
                             <p style="color: rgb(195 195 195);">Alias: <t t-out="account['alias']"/></p>
                             <hr/>
                        </div>

                        <div class="form-group col-12 s_website_form_submit confirm-data"
                            data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label"/>
                                <button type="submit" class="btn btn-primary">Transferir</button>
                        </div>
                    </div>
                </form>
            </div>
        </t>
    </template>


    <template id="web_form_template_transfer_sended" name="Billetera">
        <t t-call="website.layout">
            <link rel="stylesheet" type="text/css"
                href="/billetera_pagoflex/static/src/css/style.css" />
            <div class="container_div">
                <form action="/wallet"
                    enctype="multipart/form-data" class="o_mark_required"
                    data-mark="*" data-model_name="" data-success-page="">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div>
                        <div style="margin: 15px 0; text-align: center;">
                             <h4>Transferencia enviada <i class="fa fa-check-circle-o" aria-hidden="true"></i></h4>
                        </div>

                        <div class="form-group col-12 s_website_form_submit confirm-data"
                            data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label"/>
                                <button type="submit" class="btn btn-primary">Ir al inicio</button>
                        </div>
                    </div>
                </form>
            </div>
        </t>
    </template>





</odoo>